# Платформа для публикации платного контента

Приложение для публикации платного контента, позволяющее авторам создавать, редактировать и управлять своими постами.
Также предусмотрена возможность делать посты бесплатными для привлечения аудитории и предоставлять доступ к платному
контенту через подписку.

## Описание проекта

Проект предоставляет авторам уникальную платформу для демонстрации своих работ, что способствует их признанию и
популярности среди широкой аудитории. В рамках проекта авторы могут:

- Создавать и управлять постами.
- Открывать посты для бесплатного чтения.
- Продавать доступ к закрытым постам подписчикам.

## Требования

Для работы с проектом необходимо:

1. Клонировать репозиторий на свой компьютер.
2. Установить зависимости с помощью команды:
```bash
   poetry install
```
3. Применить миграции базы данных:
```bash
   python manage.py makemigrations python manage.py migrate
```
4. Создать файл `.env` и внести данные, используя образец `.env.sample`.

## Запуск проекта

Для локальной разработки используйте команду:
```bash
  python manage.py runserver
```
Для загрузки данных из фикстур:

- Для добавления пользователей:
```bash
  python manage.py loaddata fixtures/users.json
```
- Для добавления постов:
```bash
  python manage.py loaddata fixtures/post.json
```

**Примечание:** Для отправки кода подтверждения SMS, номер пользователя должен быть подтвержден в Twilio, и должна быть
оплачена рассылка SMS. Для тестирования функции отправки используется имитация через `print()`.

## Запуск проекта с использованием Docker

### Шаги для запуска Docker:

1. Собрать и запустить контейнеры:
```bash
  docker-compose up -d --build
```
2. Для загрузки фикстур в контейнер:

- Загрузить пользователей:
```bash
  docker-compose exec app python manage.py loaddata fixtures/users.json
```
- Загрузить посты:
```bash
  docker-compose exec app python manage.py loaddata fixtures/post.json
```

3. Для просмотра логов (имитация функции `print()`):
```bash
  docker-compose logs web
```
### Остановка контейнеров:

- Для остановки и удаления контейнеров:
```bash
  docker-compose down
```
- Для остановки контейнеров без удаления:
```bash
  docker-compose stop
```

### Запуск контейнеров:

Для повторного запуска контейнеров:
```bash
  docker-compose up -d
```
## Технологии

В проекте использованы следующие технологии:

- **Django** — фреймворк для разработки веб-приложений.
- **Python** — основной язык программирования.
- **PostgreSQL** — база данных для хранения данных.
- **Docker** — контейнеризация для упрощения разработки и деплоя.
- **Crispy Forms** — для улучшенной работы с формами в Django.
- **Stripe API** — для обработки платежей и подписок.
- **Twilio API** — для отправки SMS с кодами подтверждения.

---

### Разработал **Nikita-Musk**